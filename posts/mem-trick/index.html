<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Memory trick</title>
	<meta name="description" content="khanhtc personal&#39;s note">
	<meta name="author" content="khanhtc">
	
		<link rel="preconnect" href="https://cse.google.com">
		<link rel="preconnect" href="https://www.googleapis.com">
		<link rel="preconnect" href="https://www.google.com">
		<link rel="preconnect" href="https://clients1.google.com">
	
	
		<link rel="preconnect" href="https://cdn.mathjax.org">
	
	
</head>
<body>
	<header id="header">
	<a href="https://khanhtc.me/">khanhtc&#39;s blog</a> | ğŸ“£ <a href="https://khanhtc.me/index.xml">RSS</a> | ğŸ‘€ <a href="https://khanhtc.me/alive">Liveness check</a>
	<div class="gcse-search"></div>
	
	<nav>
		<ul>
			
			<li><a href="/about">about</a></li>
			
			<li><a href="https://github.com/khanhtc1202">github</a></li>
			
			<li><a href="https://leetcode.com/khanhtc">leetcode</a></li>
			
			<li><a href="https://www.linkedin.com/in/khanhtc1202">linkedin</a></li>
			
		</ul>
	</nav>
	
</header>

	
	<main>
		<article>
			<h1>Memory trick</h1>
			<time>22.12.2017 18:42</time>
			<div>
				<p>Náº¿u Ä‘Ã£ tá»«ng cÃ³ thá»i gian lÃ m viá»‡c vá»›i C (hay Ã´ng nÃ o kinh hÆ¡n lÃ m háº³n vá»›i Assembly :) ) cháº¯c ai cÅ©ng nhá»› sá»± kinh hoÃ ng cá»§a <strong>core dump fail</strong> :&rsquo;( . DÃ¹ cÃ³ sá»­ dá»¥ng <a href="https://en.wikipedia.org/wiki/GNU_Debugger"><code>gdb</code></a> debug thÃ¬ cháº¯c cÅ©ng pháº£i bá» ra cáº£ má»› thá»i gian vÃ  cÃ´ng sá»©c mÃ  nhiá»u khi lá»—i báº¯t nguá»“n tá»« nhá»¯ng cÃ¡i vá»› váº©n nÃ o Ä‘Ã³ mÃ  bÃ¬nh thÆ°á»ng ta khÃ´ng Ä‘á»ƒ Ã½ :&rsquo;( . Máº·t khÃ¡c báº¡n nÃªn tháº¥y may máº¯n khi Ã­t ra cÃ²n biáº¿t chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ lá»—i á»Ÿ Ä‘Ã¢u Ä‘Ã³ Ä‘á»ƒ mÃ  sá»­a, cÃ³ nhá»¯ng lá»—i náº±m á»Ÿ nhÆ°ng nÆ¡i hiá»ƒm hÆ¡n - khÃ´ng lÃ m cho chÆ°Æ¡ng trÃ¬nh dá»«ng nhÆ°ng káº¿t quáº£ thÃ¬ sai lÃ¨. Má»™t trong sá»‘ nhá»¯ng nguyÃªn nhÃ¢n chÃ­nh dáº«n Ä‘áº¿n nÃ³ lÃ  váº¥n Ä‘á» <a href="https://en.wikipedia.org/wiki/Overflow"><code>trÃ n sá»‘</code></a></p>
<!-- more -->
<p>HÃ´m nay trong khi Ä‘ang mÃ² code há»‡ thá»‘ng, mÃ¬nh vá»› Ä‘Æ°á»£c 1 Ä‘oáº¡n Ä‘áº¡i Ã½ nhÆ° sau.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#888">// Same as (l+r)/2, but avoids overflow for
</span></span></span><span style="display:flex;"><span><span style="color:#888">// large l and h
</span></span></span><span style="display:flex;"><span><span style="color:#888"></span><span style="color:#888;font-weight:bold">int</span> m = l+(r-l)/<span style="color:#00d;font-weight:bold">2</span>;
</span></span></code></pre></div><p>KhÃ´ng cÃ²n gÃ¬ Ä‘á»ƒ nÃ³i thÃªm ngoÃ i tuyá»‡t vá»i :joy:</p>
<p>Äoáº¡n code trÃªn lÃ m nhiá»‡m vá»¥ tÃ­nh <strong>trung bÃ¬nh cá»™ng cá»§a 2 sá»‘ l vÃ  r</strong> vá»›i giáº£ thiáº¿t Ä‘áº§u vÃ o lÃ  <strong>l nhá» hÆ¡n hoáº·c báº±ng r</strong></p>
<p>ThÃ´ng thÆ°á»ng khi nghÄ© Ä‘áº¿n tÃ­nh trung bÃ¬nh cá»™ng, báº¡n cho ráº±ng Ä‘Æ¡n giáº£n chá»‰ cáº§n <strong>cá»™ng chÃºng láº¡i vÃ  chia cho sá»‘ sá»‘ háº¡ng</strong> nhÆ°ng chÃ­nh pháº§n Ä‘Æ¡n giáº£n Ä‘Ã³ khiáº¿n cho chÃºng ta nhiá»u lÃºc <a href="https://i.ytimg.com/vi/Uvw0xNSj0H0/maxresdefault.jpg"><code>máº¥t ngá»§ Ä‘áº¿n máº¥y ngÃ y :)</code></a> (cÃ¡i nÃ y gá»£i nhá»› Ä‘áº¿n dáº¥u <code>;</code> tháº§n thÃ¡nh hoáº·c <code>}</code> mÃ  cháº¯c ai cÅ©ng Ä‘Ã£ dÃ­nh rá»“i :joy: ).</p>
<p>Báº¡n cÅ©ng cÃ³ thá»ƒ dá»… dÃ ng dÃ­nh trÃ n sá»‘ vá»›i nhá»¯ng Ä‘oáº¡n code kiá»ƒu nÃ y - mÃ  mÃ¬nh nghÄ© cháº¯c cÅ©ng khÃ´ng Ã­t ngÆ°á»i váº«n lÃ m tháº¿ :)) bao gá»“m cáº£ ngÆ°á»i Ä‘ang viáº¿t bÃ i nÃ y :'(</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#080;font-weight:bold">for</span>(<span style="color:#888;font-weight:bold">int</span> i = <span style="color:#00d;font-weight:bold">0</span>; i &lt; length; i++) {
</span></span><span style="display:flex;"><span>    sum += array[i];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Viá»‡c thá»±c hiá»‡n phÃ©p cá»™ng bá»«a bÃ£i nhiá»u khi thá»±c sá»± gÃ¢y ra nhá»¯ng háº­u quáº£ báº¥t ngá» khi Ä‘em cháº¡y thuáº­t toÃ¡n vá»›i cÃ¡c test case lá»›n (ai chÆ¡i codejam cháº¯c biáº¿t rÃµ vá»¥ nÃ y).</p>
<p>Äoáº¡n code mÃ¬nh vá»› Ä‘Æ°á»£c hÃ´m nay Ä‘em Ä‘áº¿n 1 Ã½ tÆ°á»Ÿng khÃ´ng má»›i (cháº¯c ai cÅ©ng biáº¿t nhÆ°ng cháº³ng máº¥y Ä‘á»ƒ Ã½) vá» vá»¥ trÃ¡nh lá»—i trÃ n sá»‘ nÃ³i trÃªn.</p>
<p>$$\begin{equation}
\dfrac{l + r}{2}
= \dfrac{2l + r - l}{2}
= \dfrac{l + (r - l)}{2}
\end{equation}$$</p>
<p>Má»™t biáº¿n Ä‘á»•i khÃ¡ Ä‘Æ¡n giáº£n nhÆ°ng Ä‘Ã£ trÃ¡nh hoÃ n toÃ n Ä‘Æ°á»£c váº¥n Ä‘á» <strong>overflow</strong> nÃ³i trÃªn. ChÃº Ã½ ráº±ng vá»›i giáº£ thiáº¿t Ä‘áº§u vÃ o lÃ  <strong>l nhá» hÆ¡n báº±ng r</strong> ta luÃ´n cÃ³ <strong>(r - l)</strong> náº±m trong range cho phÃ©p cá»§a kiá»ƒu máº«u, Ä‘Æ¡n giáº£n lÃ  vÃ¬ báº¡n Ä‘Ã£ <strong>load Ä‘Æ°á»£c r vÃ o bá»™ nhá»› thÃ¬ cháº³ng cÃ³ lÃ½ do gÃ¬ khÃ´ng load Ä‘Æ°á»£c (r - l) &lt; r vÃ o Ä‘Ã³ cáº£</strong> :).</p>
<p>Tá»•ng quÃ¡t lÃªn má»™t chÃºt ta cÃ³ vá»›i giáº£ thiáº¿t $X_{1} &lt; X_{2} &lt; &hellip; &lt; X_{n}$ cÃ¹ng phÃ­a so vá»›i 0</p>
<p>$$\begin{equation}
\begin{aligned}
\dfrac{X_{1} + X_{2} + &hellip; + X_{n}}{n}
&amp;= \dfrac{nX_{1} + (X_{2} - X_{1}) + &hellip; + (X_{n} - X_{1})}{n} \
&amp;= X_{1} + \dfrac{(X_{2} - X_{1}) + &hellip; + (X_{n} - X_{1})}{n} \
&amp;= X_{1} + \sum_{k=2}^n{\dfrac{X_{k} - X_{1}}{n}}
\end{aligned}
\end{equation}$$</p>
<p>VÃ  vá»›i cÃ¡ch nÃ y thÃ¬ báº¡n cÃ³ thá»ƒ thoáº£i mÃ¡i vÃ  yÃªn tÃ¢m lÃ  khÃ´ng cÃ³ chuyá»‡n trÃ n sá»‘ ná»¯a dÃ¹ test dataset cÃ³ lá»›n lÃªn hay khÃ´ng :)).</p>

			</div>
			
			<div>
				<ul id="tags">
					
					<li><a href="/tags/trick">trick</a></li>
					
					<li><a href="/tags/os">os</a></li>
					
					<li><a href="/tags/memory">memory</a></li>
					
				</ul>
			</div>
			
		</article>
	</main>
<aside>
	<div>
		<div>
			<h3>LATEST POSTS</h3>
		</div>
		<div>
			<ul>
				
				<li><a href="/posts/kadane-and-its-applications/">From subarray problems to Kadane and applications</a></li>
				
				<li><a href="/posts/an-approach-for-dp-problem/">An Approach for DP Problem</a></li>
				
				<li><a href="/posts/some-thought-about-tactics/">A breakthrough of my mind</a></li>
				
				<li><a href="/posts/concurrent-unit/">Process, Thread and Routine</a></li>
				
				<li><a href="/posts/complexity-classes/">Complexity Classes</a></li>
				
			</ul>
		</div>
	</div>
</aside>

<aside>
	<div>
    		
			<div>
				<h3>TAGS</h3>
			</div>
			<div>
				<ul>
					
					<li><a href="/tags/algorithm">algorithm</a></li>
					
					<li><a href="/tags/approx">approx</a></li>
					
					<li><a href="/tags/architecture">architecture</a></li>
					
					<li><a href="/tags/c/c&#43;&#43;">c/c&#43;&#43;</a></li>
					
					<li><a href="/tags/code">code</a></li>
					
					<li><a href="/tags/compiler">compiler</a></li>
					
					<li><a href="/tags/concurrent">concurrent</a></li>
					
					<li><a href="/tags/database">database</a></li>
					
					<li><a href="/tags/design">design</a></li>
					
					<li><a href="/tags/dev%20tool">dev tool</a></li>
					
					<li><a href="/tags/golang">golang</a></li>
					
					<li><a href="/tags/javascript">javascript</a></li>
					
					<li><a href="/tags/lock">lock</a></li>
					
					<li><a href="/tags/manual">manual</a></li>
					
					<li><a href="/tags/memory">memory</a></li>
					
					<li><a href="/tags/networks">networks</a></li>
					
					<li><a href="/tags/nodejs">nodejs</a></li>
					
					<li><a href="/tags/oop">oop</a></li>
					
					<li><a href="/tags/os">os</a></li>
					
					<li><a href="/tags/package%20manager">package manager</a></li>
					
					<li><a href="/tags/programming">programming</a></li>
					
					<li><a href="/tags/react">react</a></li>
					
					<li><a href="/tags/tactics">tactics</a></li>
					
					<li><a href="/tags/thinking">thinking</a></li>
					
					<li><a href="/tags/tree">tree</a></li>
					
					<li><a href="/tags/trick">trick</a></li>
					
				</ul>
			</div>
		
	</div>
</aside>



	<footer id="footer">
	<p>&copy; 2017-2024 <a href="https://khanhtc.me/">khanhtc&#39;s blog</a> | <a href="https://khanhtc.me/index.xml">RSS</a></p>
	<section><script async src="https://cse.google.com/cse.js?cx=009971123916912295303:lpg9aljzbui"></script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>


	</section>
</footer>

</body>
</html>
